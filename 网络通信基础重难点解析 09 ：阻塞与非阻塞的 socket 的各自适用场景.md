## 网络通信基础重难点解析 09 ：阻塞与非阻塞的 socket 的各自适用场景



#### 阻塞与非阻塞的 socket 的各自适用场景

阻塞的 socket 函数在调用 **send**、**recv**、**connect**、**accept** 等函数时，如果特定的条件不满足，就会阻塞其调用线程直至超时，非阻塞的 socket 恰恰相反。这并不意味着非阻塞模式的 socket 模式比阻塞模式的 socket 模式好，二者各有优缺点。

非阻塞模式的 socket，一般用于需要支持高并发多 QPS 的场景下（如服务器程序），但是正如前文所述，这种模式让程序执行流和控制逻辑变复杂；相反，阻塞模式逻辑简单，程序结构简单明了，常用于一些特殊的场景。这里举两个应用的场景：

**示例一**

程序需要临时发送一个文件，文件分段发送，每段对端都会的给与一个应答，程序可以单独开一个任务线程，在这个任务线程函数里面，使用先 send 后 recv 再 send 再 recv 的模式，每次 send 和 recv 都是阻塞式的。

**示例二**

A 端与 B 端之间只有问答模式，即 A 发送给 B 一个请求，B 必定会应答给 A 一个响应，除此以外，B 不会给 A 推送任何数据，也可以采取阻塞模式，每次 send 完请求后，就可以直接使用阻塞式的 recv 去接受一定要有的应答包。







------

**本文首发于『<font color=red>easyserverdev</font>』公众号，欢迎关注，转载请保留版权信息。**

**欢迎加入高性能服务器开发 QQ 群一起交流：<font color=red> 578019391 </font>。**

![微信扫码关注](http://www.hootina.org/github_easyserverdev/articlelogo.jpg)